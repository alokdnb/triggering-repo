# trigger-repob-workflow.yml
name: 'Trigger Repo B GitHub workflow'
on:
  push:
    branches:
      - main
jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v3
        with:
          github-token: ${{ secrets.GH_PAT }} # Fine-grained GitHub PAT that was saved as repository secret
          script: |
            try {
              await github.rest.actions.createworkflowDispatch({
                  owner: 'alokdnb',
                  repo: 'test',
                  workflow_id: 'blank.yml',
                  ref: 'main'
              })
            console.log(result);
            } catch(error) {
              console.error(error);
              core.setFailed(error);
            }
