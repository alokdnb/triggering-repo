# trigger-repob-workflow.yml
name: 'Trigger Repo B GitHub workflow'
on:
  push:
    branches:
      - main
jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GH_PAT }} # Fine-grained GitHub PAT that was saved as repository secret
          script: |
            try {
              github.rest.issues.get({
              issue_number: 1,
              owner: 'alokdnb',
              repo: 'test',
            })
              const result = await github.rest.actions.createworkflowDispatch({
                  owner: 'alokdnb',
                  repo: 'test',
                  workflow_id: 'CI', #'blank.yml',
                  ref: 'main',
                  inputs: {  }
              })
            console.log(result);
            } catch(error) {
              console.error(error);
              core.setFailed(error);
            }
